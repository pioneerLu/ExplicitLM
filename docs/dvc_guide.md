# DVC æ•°æ®ç‰ˆæœ¬ç®¡ç†æŒ‡å—

## ç®€ä»‹

æœ¬é¡¹ç›®ä½¿ç”¨ DVC (Data Version Control) æ¥ç®¡ç†å¤§å‹æ•°æ®é›†çš„ç‰ˆæœ¬æ§åˆ¶ã€‚DVC å…è®¸æˆ‘ä»¬åƒç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†æ•°æ®ï¼ŒåŒæ—¶å°†å®é™…çš„æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨è¿œç¨‹å­˜å‚¨ï¼ˆMinIO S3ï¼‰ä¸­ï¼Œè€Œä¸æ˜¯ Git ä»“åº“ä¸­ã€‚

## ä¸€ã€DVC å¸¸ç”¨æŒ‡ä»¤

### 1.1 æ‹‰å–æ•°æ®é›†

ä»è¿œç¨‹å­˜å‚¨ä¸‹è½½æ•°æ®é›†åˆ°æœ¬åœ°ï¼š

```bash
# æ‹‰å–æ‰€æœ‰æ•°æ®é›†
dvc pull

# æ‹‰å–ç‰¹å®šæ•°æ®é›†
dvc pull data/database.dvc
dvc pull data/knowledge_base.dvc
dvc pull data/benchmarks.dvc
dvc pull cache.dvc
```

### 1.2 æ¨é€æ•°æ®é›†

å°†æœ¬åœ°æ•°æ®é›†ä¸Šä¼ åˆ°è¿œç¨‹å­˜å‚¨ï¼š

```bash
# æ¨é€æ‰€æœ‰æ•°æ®é›†
dvc push

# æ¨é€ç‰¹å®šæ•°æ®é›†
dvc push data/database.dvc
dvc push data/knowledge_base.dvc
dvc push data/benchmarks.dvc
dvc push cache.dvc
```

### 1.3 æŸ¥çœ‹æ•°æ®é›†çŠ¶æ€

æ£€æŸ¥æ•°æ®é›†çš„çŠ¶æ€ï¼ˆæ˜¯å¦éœ€è¦æ‹‰å–æˆ–æ¨é€ï¼‰ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰æ•°æ®é›†çŠ¶æ€
dvc status

# æŸ¥çœ‹ç‰¹å®šæ•°æ®é›†çŠ¶æ€
dvc status data/database.dvc
```

### 1.4 æ·»åŠ æ–°æ•°æ®é›†

å°†æ–°çš„æ•°æ®æ–‡ä»¶æˆ–ç›®å½•æ·»åŠ åˆ° DVC è·Ÿè¸ªï¼š

```bash
# æ·»åŠ æ•°æ®æ–‡ä»¶æˆ–ç›®å½•
dvc add data/new_dataset/

# æäº¤ DVC å…ƒæ•°æ®æ–‡ä»¶åˆ° Git
git add data/new_dataset.dvc data/.gitignore
git commit -m "feat: æ·»åŠ æ–°æ•°æ®é›†"

# æ¨é€æ•°æ®åˆ°è¿œç¨‹å­˜å‚¨
dvc push
```

### 1.5 æŸ¥çœ‹æ•°æ®é›†åˆ—è¡¨

åˆ—å‡ºè¿œç¨‹å­˜å‚¨ä¸­çš„æ‰€æœ‰æ•°æ®é›†ï¼š

```bash
# åˆ—å‡ºæ‰€æœ‰ DVC è·Ÿè¸ªçš„æ–‡ä»¶
dvc list . --dvc-only -R

# æŸ¥çœ‹ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶
dvc list . data/database --dvc-only
```

### 1.6 æŸ¥çœ‹æ•°æ®é›†ç‰ˆæœ¬å†å²

æŸ¥çœ‹æ•°æ®é›†çš„ç‰ˆæœ¬å˜æ›´å†å²ï¼š

```bash
# æŸ¥çœ‹ç‰¹å®šæ•°æ®é›†çš„ Git å†å²
git log -- data/database.dvc

# æŸ¥çœ‹è¯¦ç»†çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆåŒ…æ‹¬ MD5 å˜åŒ–ï¼‰
git log -p -- data/database.dvc
```

### 1.7 åˆ‡æ¢æ•°æ®é›†ç‰ˆæœ¬

å›é€€åˆ°ç‰¹å®šç‰ˆæœ¬çš„æ•°æ®é›†ï¼š

```bash
# 1. åˆ‡æ¢åˆ°ç‰¹å®šçš„ Git æäº¤
git checkout <commit-hash> data/database.dvc

# 2. æ‹‰å–è¯¥ç‰ˆæœ¬çš„æ•°æ®
dvc checkout data/database.dvc

# 3. å¦‚æœè¦ä¿ç•™è¿™ä¸ªç‰ˆæœ¬ï¼Œæäº¤å˜æ›´
git add data/database.dvc
git commit -m "feat: å›é€€åˆ°æ•°æ®é›†ç‰ˆæœ¬ <commit-hash>"
```

### 1.8 æŸ¥çœ‹è¿œç¨‹å­˜å‚¨é…ç½®

æŸ¥çœ‹å½“å‰çš„è¿œç¨‹å­˜å‚¨é…ç½®ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹å­˜å‚¨
dvc remote list

# æŸ¥çœ‹ç‰¹å®šè¿œç¨‹å­˜å‚¨çš„è¯¦ç»†é…ç½®
cat .dvc/config
```

## äºŒã€æ•°æ®é›†ç‰ˆæœ¬è®°å½•

| æ•°æ®é›†åç§° | ç‰ˆæœ¬æ ‡è¯† | åˆ›å»ºæ—¥æœŸ | æ•°æ®å¤§å° | æ ‡ç­¾ | è¯´æ˜ |
|-----------|---------|---------|---------|------|------|
| `merged_pretrain.jsonl`<br>(database) | `fd5f22a` | 2025-10-08 | 10.77 GB | ğŸ”µ é»˜è®¤<br>ğŸŸ¢ ICLR2026 | é¢„è®­ç»ƒæ•°æ®é›†ç¬¬ä¸€ç‰ˆï¼ŒåŒ…å«åˆå¹¶åçš„é¢„è®­ç»ƒè¯­æ–™ï¼Œç”¨äºæ‰€æœ‰åŸºå‡†å®éªŒ |
| `merged_pretrain.jsonl`<br>(database) | `2806566` | 2025-10-12 | 7.2 MB | ğŸŸ¡ æµ‹è¯• | æµ‹è¯•ä¸“ç”¨ç‰ˆæœ¬ï¼Œä»…åŒ…å«5000æ¡æ•°æ®ï¼Œä¿æŒä¸å®Œæ•´ç‰ˆç›¸åŒæ ¼å¼ï¼Œä¾¿äºå¿«é€Ÿæµ‹è¯• |
| `sentence_trex_data.json`<br>(knowledge_base) | `f3ca080` | 2025-10-08 | 446 MB | ğŸ”µ é»˜è®¤<br>ğŸŸ¢ ICLR2026 | T-REx çŸ¥è¯†åº“å¥å­æ•°æ®ç¬¬ä¸€ç‰ˆï¼ŒåŒ…å«ç»“æ„åŒ–çŸ¥è¯†ä¸‰å…ƒç»„ï¼Œç”¨äºæ‰€æœ‰çŸ¥è¯†æ³¨å…¥å®éªŒ |
| `eval_data.json`<br>(benchmarks) | `cd7f9bb` | 2025-10-12 | 28 KB | ğŸ”µ é»˜è®¤<br>ğŸŸ¢ ICLR2026 | åŸºå‡†æµ‹è¯•æ•°æ®é›†ç¬¬ä¸€ç‰ˆï¼Œç”¨äºæ¨¡å‹è¯„ä¼°å’Œæ€§èƒ½éªŒè¯ |
| `knowledge_cache.pt`<br>`cluster_tokens_single_mapping.json`<br>(cache) | `fda7333` | 2025-10-12 | 466 MB | ğŸ”µ é»˜è®¤<br>ğŸŸ¢ ICLR2026 | ç¼“å­˜æ•°æ®ç¬¬ä¸€ç‰ˆï¼ŒåŒ…å«çŸ¥è¯†ç¼“å­˜å’Œèšç±»tokenæ˜ å°„ï¼Œç”¨äºåŠ é€Ÿè®­ç»ƒ |

**æ‹‰å–é»˜è®¤ç‰ˆæœ¬**:
```bash
git checkout main
dvc pull
```

**åˆ‡æ¢åˆ°æµ‹è¯•ç‰ˆæœ¬ï¼ˆ5000æ¡æ•°æ®ï¼‰**:
```bash
# 1. åˆ‡æ¢åˆ°æµ‹è¯•ç‰ˆæœ¬çš„æäº¤
git checkout 2806566 data/database.dvc

# 2. æ‹‰å–æµ‹è¯•æ•°æ®
dvc checkout data/database.dvc

# 3. å¦‚æœéœ€è¦æ¢å¤åˆ°é»˜è®¤ç‰ˆæœ¬
git checkout main data/database.dvc
dvc checkout data/database.dvc
```

---

**æ³¨æ„**: æ‰€æœ‰æ•°æ®é›†æ–‡ä»¶æœ¬èº«ä¸ä¼šæäº¤åˆ° Gitï¼Œåªæœ‰ `.dvc` å…ƒæ•°æ®æ–‡ä»¶ä¼šè¢« Git è·Ÿè¸ªã€‚é»˜è®¤ä½¿ç”¨ v1.0-iclr2026 ç‰ˆæœ¬çš„æ•°æ®é›†è¿›è¡Œå®éªŒã€‚æµ‹è¯•ç‰ˆæœ¬ï¼ˆğŸŸ¡ æµ‹è¯•ï¼‰é€‚åˆå¿«é€Ÿå¼€å‘å’Œè°ƒè¯•ï¼Œå®Œæ•´ç‰ˆæœ¬ï¼ˆğŸ”µ é»˜è®¤ï¼‰ç”¨äºæ­£å¼å®éªŒã€‚
